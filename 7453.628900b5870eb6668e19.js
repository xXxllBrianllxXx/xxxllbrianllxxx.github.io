"use strict";(self.webpackChunk_fuse_demo=self.webpackChunk_fuse_demo||[]).push([[7453],{57453:(lo,C,e)=>{e.r(C),e.d(C,{ConfirmationDialogModule:()=>ro,routes:()=>D});var M=e(63423),p=e(51095),w=e(7539),f=e(98295),x=e(83166),E=e(67441),I=e(47214),Q=e(44466),l=e(32091),m=e(22238),v=e(79765),U=e(30263),d=e(36461),Z=e(39761),A=e(88002),u=e(3679),o=e(37716),g=e(76627),J=e(38583);const F=["usuarioInput"],S=["permisoInput"];function P(a,s){if(1&a){const t=o.EpF();o.TgZ(0,"tr",20),o.TgZ(1,"td"),o.TgZ(2,"div",6),o.TgZ(3,"mat-form-field",7),o._UZ(4,"input",8),o._UZ(5,"mat-icon",9),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6,"td"),o.TgZ(7,"div",6),o.TgZ(8,"mat-form-field",7),o._UZ(9,"input",8),o._UZ(10,"mat-icon",9),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"td"),o.TgZ(12,"button",21),o.NdJ("click",function(){const r=o.CHM(t).index;return o.oxw().removeQuantity(r)}),o._UZ(13,"mat-icon",22),o.qZA(),o.qZA(),o.qZA()}if(2&a){const t=s.$implicit;let n,r;o.Q6J("formGroupName",s.index),o.xp6(4),o.Q6J("value",null!==(n=t.value.cod)&&void 0!==n?n:"")("placeholder","C\xf3digo"),o.xp6(1),o.Q6J("svgIcon","heroicons_solid:chip"),o.xp6(4),o.Q6J("value",null!==(r=t.value.descripcion)&&void 0!==r?r:"")("placeholder","Descripci\xf3n"),o.xp6(1),o.Q6J("svgIcon","heroicons_solid:chip")}}let R=(()=>{class a{constructor(t,i,n,r){this._changeDetectorRef=t,this._data=i,this.fb=n,this._matDialogRef=r,this.separatorKeysCodes=[d.K5,d.OC],this.usuarioCtrl=new u.NI(""),this.usuarios=[],this.allUsuarios=["usuario1","usuario2","usuario3","usuario4","usuario5","usuario6","usuario7","usuario8","usuario9","usuario10","usuario11","usuario12","usuario13","usuario14","usuario15","usuario16","usuario17","usuario18","usuario19","usuario20","usuario21","usuario22","usuario23","usuario24","usuario25","usuario26","usuario27","usuario28","usuario29","usuario30","usuario31","usuario32","usuario33","usuario34","usuario35","usuario36","usuario37","usuario38","usuario39","usuario40","usuario41","usuario42","usuario43","usuario44","usuario45","usuario46","usuario47","usuario48","usuario49","usuario50"],this.separatorKeysCodesPermisos=[d.K5,d.OC],this.permisoCtrl=new u.NI(""),this.permisos=[],this.allPermisos=["Dasboard/Inicio -> Acceso (A)","Dasboard/Inicio -> Crear Conflicto (CC)","Dasboard/Inicio -> Ver Todo (VT)","Dasboard/Mapa -> Acceso (A)","Reportes/General -> Acceso (A)","Reportes/General -> Descargar (D)","Base de Datos/Conflictos Ambientales -> Acceso (A)","Base de Datos/Conflictos Ambientales -> Descargar (D)","Base de Datos/Conflictos Ambientales -> Eliminar (E)","Base de Datos/Conflictos Ambientales -> Modificar (M)","Configuraci\xf3n/M\xf3dulos y permisos -> Acceso (A)","Configuraci\xf3n/M\xf3dulos y permisos -> Crear (C)","Configuraci\xf3n/M\xf3dulos y permisos -> Eliminar (E)","Configuraci\xf3n/M\xf3dulos y permisos -> Modificar (M)","Configuraci\xf3n/Roles -> Acceso (A)","Configuraci\xf3n/Roles -> Crear (C)","Configuraci\xf3n/Roles -> Eliminar (E)","Configuraci\xf3n/Roles -> Modificar (M)"],this.noteChanged=new v.xQ,this._unsubscribeAll=new v.xQ,this.filteredUsuarios=this.usuarioCtrl.valueChanges.pipe((0,Z.O)(null),(0,A.U)(c=>c?this._filter(c):this.allUsuarios.slice())),this.filteredPermisos=this.permisoCtrl.valueChanges.pipe((0,Z.O)(null),(0,A.U)(c=>c?this._filterPermiso(c):this.allPermisos.slice()))}ngOnInit(){var t,i;this.prm=U.i,this.data=this._data,this.usuarios=null!==(t=this.data.usuarios)&&void 0!==t?t:[],this.permisos=null!==(i=this.data.permisos)&&void 0!==i?i:[],this.productForm=this.fb.group({name:"",quantities:this.fb.array(this.permisos)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}add(t){const i=(t.value||"").trim();i&&this.usuarios.push(i),t.chipInput.clear(),this.usuarioCtrl.setValue(null)}remove(t){const i=this.usuarios.indexOf(t);i>=0&&this.usuarios.splice(i,1)}selected(t){this.usuarios.push(t.option.viewValue),this.usuarioInput.nativeElement.value="",this.usuarioCtrl.setValue(null)}addPermiso(t){const i=(t.value||"").trim();i&&this.permisos.push(i),t.chipInput.clear(),this.permisoCtrl.setValue(null)}removePermiso(t){const i=this.permisos.indexOf(t);i>=0&&this.permisos.splice(i,1)}selectedPermiso(t){this.permisos.push(t.option.viewValue),this.permisoInput.nativeElement.value="",this.permisoCtrl.setValue(null)}quantities(){return this.productForm.get("quantities")}newQuantity(){return this.fb.group({qty:"",price:""})}addQuantity(){this.quantities().push(this.newQuantity())}removeQuantity(t){this.quantities().removeAt(t)}_filter(t){const i=t.toLowerCase();return this.allUsuarios.filter(n=>n.toLowerCase().includes(i))}_filterPermiso(t){const i=t.toLowerCase();return this.allPermisos.filter(n=>n.toLowerCase().includes(i))}}return a.\u0275fac=function(t){return new(t||a)(o.Y36(o.sBO),o.Y36(m.WI),o.Y36(u.qu),o.Y36(m.so))},a.\u0275cmp=o.Xpm({type:a,selectors:[["edit-modulo"]],viewQuery:function(t,i){if(1&t&&(o.Gf(F,5),o.Gf(S,5)),2&t){let n;o.iGM(n=o.CRH())&&(i.usuarioInput=n.first),o.iGM(n=o.CRH())&&(i.permisoInput=n.first)}},decls:26,vars:9,consts:[["mat-icon-button","",1,"close-button",3,"mat-dialog-close"],["color","warn",1,"close-icon"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"flex","flex-col","px-5","pt-5","bg-card","shadow","rounded"],[1,"text-lg","font-medium"],[1,"flex","flex-col","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pr-3"],["matInput","",3,"value","placeholder"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[2,"width","100%"],[1,"flex-auto","grid","grid-cols-1","gap-1","mt-2",2,"float","right"],[1,"py-3","flex"],["mat-raised-button","","color","primary","aria-label","Agregar permiso",3,"click"],[3,"formGroup"],["formArrayName","quantities",1,"table","table-bordered",2,"width","100%"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","border-t","-mx-8","mt-8","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","",1,"px-6","ml-3",3,"color","mat-dialog-close"],[3,"formGroupName"],["mat-mini-fab","","color","warn","aria-label","Eliminar permiso",2,"top","-9px","float","right",3,"click"],["svgIcon","heroicons_outline:minus",1,"icon-size-5"]],template:function(t,i){if(1&t&&(o.TgZ(0,"button",0),o.TgZ(1,"mat-icon",1),o._uU(2,"close"),o.qZA(),o.qZA(),o.TgZ(3,"h2",2),o._uU(4,"Editar Permisos del M\xf3dulo"),o.qZA(),o.TgZ(5,"div",3),o.TgZ(6,"form",4),o.TgZ(7,"p",5),o._uU(8,"M\xf3dulo"),o.qZA(),o.TgZ(9,"div",6),o.TgZ(10,"mat-form-field",7),o._UZ(11,"input",8),o._UZ(12,"mat-icon",9),o.qZA(),o.qZA(),o.TgZ(13,"div",10),o.TgZ(14,"div",11),o.TgZ(15,"div",12),o.TgZ(16,"button",13),o.NdJ("click",function(){return i.addQuantity()}),o._uU(17,"Agregar permiso"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(18,"form",14),o.TgZ(19,"table",15),o.YNc(20,P,14,7,"tr",16),o.qZA(),o.qZA(),o.TgZ(21,"div",17),o.TgZ(22,"button",18),o._uU(23," Cancelar "),o.qZA(),o.TgZ(24,"button",19),o._uU(25," Guardar "),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t){let n;o.Q6J("mat-dialog-close",!0),o.xp6(11),o.Q6J("value",null!==(n=i.data.modulo)&&void 0!==n?n:"")("placeholder","M\xf3dulo"),o.xp6(1),o.Q6J("svgIcon","heroicons_solid:puzzle"),o.xp6(6),o.Q6J("formGroup",i.productForm),o.xp6(2),o.Q6J("ngForOf",i.quantities().controls),o.xp6(2),o.Q6J("mat-dialog-close",!0),o.xp6(2),o.Q6J("color","primary")("mat-dialog-close",!0)}},directives:[p.lW,m.ZT,g.Hw,m.uh,m.xY,u._Y,u.JL,u.F,f.KE,x.Nt,f.qo,u.sg,u.CE,J.sg,u.x0],styles:[".close-button{float:right;top:-12px;right:-12px}.close-icon{transition:1s ease-in-out}.close-icon:hover{transform:rotate(180deg)}::ng-deep .icon-outside .close-button{float:right;top:-52px;right:-52px}::ng-deep .icon-outside .mat-dialog-container{overflow:unset}.example-chip-list{width:100%}.example-label{display:table-cell;font-size:14px;margin-left:8px;min-width:120px}.example-button-row{display:table-cell;width:490px}.example-button-row .mat-button-base{margin:8px 8px 8px 0}.example-flex-container{display:flex;justify-content:space-between;flex-wrap:wrap}.example-button-container{display:flex;justify-content:center;width:120px}\n"],encapsulation:2,changeDetection:0}),a})();var N=e(34564),q=e(1400),y=e(1304),h=e(11494),T=e(99692),b=e(11436);const G=["modulo_sort"],Y=["modulo_paginator"];function L(a,s){1&a&&(o.TgZ(0,"th",25),o._uU(1," M\xf3dulo "),o.qZA())}function H(a,s){if(1&a&&(o.TgZ(0,"td",26),o._uU(1),o.qZA()),2&a){const t=s.$implicit;o.xp6(1),o.hij(" ",t.modulo," ")}}function O(a,s){1&a&&o._UZ(0,"th",27)}function V(a,s){if(1&a){const t=o.EpF();o.TgZ(0,"td",26),o.TgZ(1,"button",28),o.NdJ("click",function(){const r=o.CHM(t).$implicit;return o.oxw().editModulo(r)}),o._UZ(2,"mat-icon",29),o.qZA(),o.TgZ(3,"button",30),o.NdJ("click",function(){const r=o.CHM(t).$implicit;return o.oxw().deleteModulo(r)}),o._UZ(4,"mat-icon",31),o.qZA(),o.qZA()}2&a&&(o.xp6(1),o.Q6J("matTooltip","Editar M\xf3dulo"),o.xp6(2),o.Q6J("matTooltip","Eliminar Permisos del M\xf3dulo"))}function B(a,s){1&a&&o._UZ(0,"tr",32)}function z(a,s){1&a&&o._UZ(0,"tr",33)}const j=function(){return[10,20,50,100]};let K=(()=>{class a{constructor(t,i,n){this._matDialog=t,this._liveAnnouncer=i,this._fuseConfirmationService=n,this.modulo_element_data=[],this.moduloDataSource=new l.by,this.moduloDisplayedColumns=["modulo","symbol"]}ngOnInit(){this.modulo_element_data=[{modulo:"Dasboard/Inicio",permisos:[{cod:"A",descripcion:"Acceso"},{cod:"CC",descripcion:"Crear Conflicto"},{cod:"VT",descripcion:"Ver Todo"}]},{modulo:"Dasboard/Mapa",permisos:[{cod:"A",descripcion:"Acceso"}]},{modulo:"Reportes/General",permisos:[{cod:"A",descripcion:"Acceso"},{cod:"D",descripcion:"Descargar"}]},{modulo:"Base de Datos/Conflictos Ambientales",permisos:[{cod:"A",descripcion:"Acceso"},{cod:"D",descripcion:"Descargar"},{cod:"E",descripcion:"Eliminar"},{cod:"M",descripcion:"Modificar"}]},{modulo:"Configuraci\xf3n/M\xf3dulos y permisos",permisos:[{cod:"A",descripcion:"Acceso"},{cod:"C",descripcion:"Crear"},{cod:"E",descripcion:"Eliminar"},{cod:"M",descripcion:"Modificar"}]},{modulo:"Configuraci\xf3n/Roles",permisos:[{cod:"A",descripcion:"Acceso"},{cod:"C",descripcion:"Crear"},{cod:"E",descripcion:"Eliminar"},{cod:"M",descripcion:"Modificar"}]}],this.moduloDataSource=new l.by(this.modulo_element_data)}ngAfterViewInit(){this.modulo_paginator._intl.itemsPerPageLabel="Registros por p\xe1gina",this.modulo_paginator._intl.firstPageLabel="Inicio",this.modulo_paginator._intl.lastPageLabel="Fin",this.modulo_paginator._intl.nextPageLabel="P\xe1gina siguiente",this.modulo_paginator._intl.previousPageLabel="p\xe1gina anterior",this.moduloDataSource.sort=this.modulo_sort,this.moduloDataSource.paginator=this.modulo_paginator}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}editModulo(t){this._matDialog.open(R,{disableClose:!0,autoFocus:!1,minWidth:"50%",data:t})}deleteModulo(t){this._fuseConfirmationService.open({title:"Eliminar Permisos del M\xf3dulo",message:'\xbfEst\xe1 seguro de que desea eliminar los permisos de este M\xf3dulo de forma permanente? <span class="font-medium">Esta acci\xf3n no se puede deshacer!</span>',icon:{show:!0,name:"heroicons_outline:exclamation",color:"warn"},actions:{confirm:{show:!0,label:"Eliminar",color:"warn"},cancel:{show:!0,label:"Cancelar"}},dismissible:!0}).afterClosed().subscribe(n=>{"confirmed"==n&&(this.moduloDataSource.data=this.moduloDataSource.data.filter(r=>r!==t))})}}return a.\u0275fac=function(t){return new(t||a)(o.Y36(m.uw),o.Y36(N.Kd),o.Y36(q.R))},a.\u0275cmp=o.Xpm({type:a,selectors:[["confirmation"]],viewQuery:function(t,i){if(1&t&&(o.Gf(G,5),o.Gf(Y,5)),2&t){let n;o.iGM(n=o.CRH())&&(i.modulo_sort=n.first),o.iGM(n=o.CRH())&&(i.modulo_paginator=n.first)}},decls:30,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"bg-card"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8",2,"padding-top","20px"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-3xl","md:text-3xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],[1,"flex","items-center"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-1.5","leading-6","text-secondary"],[1,"p-5"],[1,"flex-auto","grid","grid-cols-1","gap-1","mt-2",2,"float","right"],[1,"py-3","flex"],["mat-raised-button","","color","primary","aria-label","Agregar M\xf3dulo",3,"click"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8","w-full",3,"dataSource","matSortChange"],["exporter","matTableExporter","modulo_sort","matSort"],["matColumnDef","modulo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by M\xf3dulo",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","symbol"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["modulo_paginator",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by M\xf3dulo"],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","aria-label","Pencil",3,"matTooltip","click"],["svgIcon","heroicons_outline:pencil","color","accent"],["mat-icon-button","","aria-label","Trash",3,"matTooltip","click"],["svgIcon","heroicons_outline:trash","color","warn"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o.TgZ(6,"div",6),o._uU(7,"M\xf3dulos y permisos"),o.qZA(),o.TgZ(8,"div",7),o._UZ(9,"mat-icon",8),o.TgZ(10,"div",9),o._uU(11,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(12,"div",10),o.TgZ(13,"div",11),o.TgZ(14,"div",12),o.TgZ(15,"button",13),o.NdJ("click",function(){return i.editModulo({})}),o._uU(16,"Agregar M\xf3dulo"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"table",14,15),o.NdJ("matSortChange",function(r){return i.announceSortChange(r)}),o.ynx(20,16),o.YNc(21,L,2,0,"th",17),o.YNc(22,H,2,1,"td",18),o.BQk(),o.ynx(23,19),o.YNc(24,O,1,0,"th",20),o.YNc(25,V,5,2,"td",18),o.BQk(),o.YNc(26,B,1,0,"tr",21),o.YNc(27,z,1,0,"tr",22),o.qZA(),o._UZ(28,"mat-paginator",23,24),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(9),o.Q6J("svgIcon","heroicons_solid:bell"),o.xp6(8),o.Q6J("dataSource",i.moduloDataSource),o.xp6(9),o.Q6J("matHeaderRowDef",i.moduloDisplayedColumns)("matHeaderRowDefSticky",!0),o.xp6(1),o.Q6J("matRowDefColumns",i.moduloDisplayedColumns),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(6,j)))},directives:[g.Hw,p.lW,l.BZ,y.jt,h.YE,l.w1,l.fO,l.Dz,l.as,l.nj,T.NW,l.ge,h.nU,l.ev,b.gM,l.XQ,l.Gk],styles:[".mat-row{height:auto}.mat-cell{padding:10px!important}.mat-row:hover{background-color:#d3d3d3!important}.mat-column-symbol{width:35px;text-align:center;font-weight:bold}\n"],encapsulation:2,changeDetection:0}),a})();var W=e(33935),_=e(43586),$=e(43220),X=e(36063),k=e(90171),oo=e(12178),to=e(23017),io=e(45396),eo=e(7853),ao=e(94646),no=e(58341),so=e(21554);const D=[{path:"",component:K}];let ro=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[[M.Bz.forChild(D),p.ot,w.p9,f.lN,x.c,E.LD,I.$A,Q.m,g.Ps,W.Tx,_.Co,$.FA,X.Yd,l.p0,T.TU,h.JX,y.JB,k.To,oo.Cv,to.SJ,io.rP,b.AV,eo.V,m.Is,ao.DialogModule,no.Hi,so.Bb,u.u5,u.UX]]}),a})()}}]);